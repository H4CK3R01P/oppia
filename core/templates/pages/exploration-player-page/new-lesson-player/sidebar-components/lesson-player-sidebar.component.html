<div class="oppia-lesson-player-sidebar">
  <div class="player-desktop-sidebar-menu"
       [class.expanded]="sidebarIsExpanded">
    <div class="lesson-player-sidebar-top">
      <button class="player-sidebar-toggle"
              (click)="toggleSidebar()"
              [class.expanded]="sidebarIsExpanded">
        <div *ngIf="!sidebarIsExpanded">
          {{ 'I18N_LESSON_PLAYER_OPEN_SIDEBAR' | translate }}
          <i class="fa fa-lg fa-chevron-right"></i>
        </div>
        <div *ngIf="sidebarIsExpanded">
          {{ 'I18N_LESSON_PLAYER_CLOSE_SIDEBAR' | translate }}
          <i class="fa fa-lg fa-chevron-left lesson-player-sidebar-chevron"></i>
        </div>
      </button>
      <div *ngIf="sidebarIsExpanded">
        <div class="oppia-exploration-description"
            *ngIf="!isHackyExpDescTranslationDisplayed()">
          {{ expDescription | truncateAndCapitalize: 90 }}
        </div>
        <div class="oppia-exploration-description"
             tabindex="0"
             *ngIf="isHackyExpDescTranslationDisplayed()">
          {{ expDescTranslationKey | translate | truncateAndCapitalize: 90 }}
        </div>
      </div>
    </div>
    <div class="player-sidebar-button-container">
      <button class="player-sidebar-button" (click)="showShareLessonModal()" aria-label="Share lesson">
        <i *ngIf="!sidebarIsExpanded" class="fa fa-lg fa-share-alt"></i>
        <span *ngIf="sidebarIsExpanded">
          <i class="fa fa-lg fa-share-alt"></i>
          {{ 'I18N_SHARE_LESSON' | translate }}
        </span>
      </button>
      <button class="player-sidebar-button" (click)="showFeedbackModal()" aria-label="Give feedback">
        <i *ngIf="!sidebarIsExpanded" class="fa fa-lg fa-comments"></i>
        <span *ngIf="sidebarIsExpanded">
          <i class="fa fa-lg fa-comments"></i>
          {{ 'I18N_LESSON_PLAYER_FEEDBACK_BUTTON' | translate }}
        </span>
      </button>
      <button class="player-sidebar-button" (click)="showFlagExplorationModal()" aria-label="Report content">
        <i *ngIf="!sidebarIsExpanded" class="fa fa-lg fa-flag"></i>
        <span *ngIf="sidebarIsExpanded">
          <i class="fa fa-lg fa-flag"></i>
          {{ 'I18N_LESSON_PLAYER_REPORT_BUTTON' | translate }}
        </span>
      </button>
    </div>
  </div>
  <div *ngIf="mobileMenuVisible" class="player-mobile-menu-container">
    <div class="player-mobile-menu-overlay"
         (click)="mobileMenuService.toggleMenuVisibility()">
    </div>
    <div class="player-mobile-menu">
      <div class="player-mobile-menu-close"
           (click)="mobileMenuService.toggleMenuVisibility()">
        <i class="fa fa-lg fa-times"></i>
      </div>
      <div class="player-mobile-menu-options">
        <button (click)="showShareLessonModal()">
          <i class="fa fa-lg fa-share-alt"></i>
          {{ 'I18N_SHARE_LESSON' | translate }}
        </button>
        <button (click)="showFeedbackModal()">
          <i class="fa fa-lg fa-comments"></i>
          {{ 'I18N_LESSON_PLAYER_FEEDBACK_BUTTON' | translate }}
        </button>
        <button (click)="showFlagExplorationModal()">
          <i class="fa fa-lg fa-flag"></i>
          {{ 'I18N_LESSON_PLAYER_REPORT_BUTTON' | translate }}
        </button>
      </div>
    </div>
  </div>
</div>
